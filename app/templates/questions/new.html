{% extends 'base.html' %}
{% block title %}New Question - Edu-Paper{% endblock %}

{% block content %}

<div style="max-width: 820px;" class="container py-4">
    <h3>Add Question</h3>
    <form method="post">
        {{ csrf_token() }}
        <!-- Question Type -->
        <div class="mb-3">
            <label class="form-label">Type</label>
            <select name="type" id="qtype" class="form-select">
                <option value="MCQ">MCQ</option>
                <option value="TF">True / False</option>
                <option value="TICKCROSS">Tick / Cross</option>
                <option value="SA">Short Answer</option>
                <option value="ESSAY">Essay</option>
            </select>
        </div>

        <!-- Question Text -->
        <div class="mb-3">
            <label class="form-label">Question Text</label>
            <textarea name="text" class="form-control" rows="4" required></textarea>
        </div>

        <!-- Marks -->
        <div class="mb-3">
            <label class="form-label">Marks</label>
            <input type="number" name="marks" min="1" value="1" class="form-control" style="width: 120px;">
        </div>

        <!-- MCQs options block -->
        <div style="display: none;" id="mcq-block">
            <label class="form-label">Options</label>
            <div id="mcq-options">
                <!-- Option A-->
                <div class="input-group mb-2">
                    <span class="input-group-text">A</span>
                    <input type="text" name="option_text" class="form-control" placeholder="Option A">
                </div>
                <!-- Option B-->
                <div class="input-group mb-2">
                    <span class="input-group-text">B/span>
                    <input type="text" name="option_text" class="form-control" placeholder="Option B">
                </div>
                <!-- Option C-->
                <div class="input-group mb-2">
                    <span class="input-group-text">C</span>
                    <input type="text" name="option_text" class="form-control" placeholder="Option C">
                </div>
                <!-- Option D-->
                <div class="input-group mb-2">
                    <span class="input-group-text">D</span>
                    <input type="text" name="option_text" class="form-control" placeholder="Option D">
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label">Correct option</label>
                <select name="correct_lebal" class="form-select" style="width: 160px;">
                    <option>A</option>
                    <option>B</option>
                    <option>C</option>
                    <option>D</option>
                </select>
            </div>
        </div>
        <button class="btn btn-primary">Save Questions</button>

    </form>
</div>


{% endblock %}


{% block scripts %}

    <script>
        const qtype = document.getElementById('qtype');
        const mcqBlock = document.getElementById('mcq-block');
        function toggle() {
            mcqBlock.style.display = qtype.value === 'MCQ' ? '': 'none';
        }
        qtype.addEventListener('change', toggle);
        toggle();
    </script>

{% endblock %}